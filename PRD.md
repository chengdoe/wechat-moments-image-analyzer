# 朋友圈分析助手 PRD

## 1. 项目背景

### 1.1 项目概述
开发一个H5网页应用，帮助用户通过分析对方的朋友圈截图，深入了解对方的性格、兴趣、生活方式等特征，从而为建立恋爱关系提供有价值的建议和策略。

### 1.2 核心价值
- 通过AI深度分析朋友圈内容，挖掘对方的性格特征和兴趣爱好
- 提供个性化的交友建议和聊天话题
- 帮助用户更好地了解对方，提高交友成功率

## 2. 产品目标

### 2.1 主要目标
- 帮助用户通过朋友圈分析，与目标对象建立男女朋友关系
- 提供准确、有价值的性格分析和交友建议

### 2.2 次要目标
- 提供良好的用户体验，操作简单直观
- 保护用户隐私，确保上传的图片安全处理

## 3. 用户需求分析

### 3.1 目标用户
- 年龄：18-35岁
- 需求：想要了解心仪对象，提高交友成功率
- 场景：已有对方的微信，能够获取朋友圈截图

### 3.2 用户痛点
- 不知道如何与心仪对象开启话题
- 不了解对方的真实性格和兴趣
- 缺乏有效的交友策略

### 3.3 用户期望
- 快速获得对方的性格分析
- 得到实用的聊天建议
- 了解对方的喜好和生活方式

## 4. 功能需求

### 4.1 核心功能

#### 4.1.1 图片上传功能
- 支持用户上传5张以上的朋友圈截图
- 支持拖拽上传和点击上传
- 实时显示已上传图片的预览
- 支持删除已上传的图片
- 图片格式支持：JPG、PNG、JPEG
- 单张图片大小限制：≤10MB
- 上传进度提示

#### 4.1.2 AI分析功能
- 调用豆包大模型（Doubao-Seed-2.0-pro）进行多模态分析
- 分析维度包括：
  - 性格特征（内向/外向、理性/感性、乐观/悲观等）
  - 兴趣爱好（运动、美食、旅行、阅读、音乐等）
  - 生活方式（作息规律、消费习惯、社交频率等）
  - 价值观（事业观、感情观、家庭观等）
  - 情绪状态（近期心情、压力水平等）
- 分析时长：预计10-30秒

#### 4.1.3 分析报告展示
- 在同一页面展示分析结果
- 结构化展示分析结果
- 包含以下模块：
  - **人物画像**：性格标签、核心特征
  - **兴趣爱好**：详细兴趣列表及程度
  - **生活方式**：生活习惯描述
  - **价值观分析**：三观解读
  - **情绪状态**：近期情绪评估

#### 4.1.4 交友建议功能
- 基于分析结果提供个性化建议：
  - **聊天话题推荐**：根据对方兴趣生成5-10个话题
  - **开场白建议**：提供3-5个不同风格的开场白
  - **约会建议**：推荐适合的约会地点和活动
  - **注意事项**：提醒需要避免的话题和行为
  - **互动策略**：分阶段的交往建议

## 5. 非功能需求

### 5.1 性能要求
- 图片上传响应时间 < 2秒
- AI分析完成时间 < 30秒
- 页面加载时间 < 3秒
- 支持并发用户数：≥100

### 5.2 安全要求
- 用户上传的图片在分析后立即删除
- 不保存用户的原始图片
- 使用HTTPS加密传输
- API密钥安全存储

### 5.3 兼容性要求
- 支持主流浏览器：Chrome、Safari、Firefox、Edge
- 支持移动端：iOS Safari、Chrome Mobile
- 响应式设计，适配不同屏幕尺寸

### 5.4 可用性要求
- 界面简洁直观，操作流程清晰
- 提供友好的错误提示
- 支持中英文界面（初期仅中文）

## 6. 技术方案

### 6.1 前端技术栈
- **框架**：Vue 3 / React
- **UI组件库**：Element Plus / Ant Design Mobile
- **状态管理**：Pinia / Redux
- **HTTP客户端**：Axios
- **图片处理**：Compressor.js（图片压缩）

### 6.2 后端技术栈
- **服务端**：Node.js + Express / Python + FastAPI
- **AI模型**：豆包大模型 Doubao-Seed-2.0-pro
- **模型ID**：doubao-seed-2-0-pro-260215
- **云存储**：临时存储（分析后立即删除）

### 6.2.1 环境配置
- **API密钥配置**：通过环境变量 `ARK_API_KEY` 配置
- **配置文件**：`.env` 文件（不提交到版本控制）
- **示例配置文件**：`.env.example`

**.env.example 示例：**
```bash
ARK_API_KEY=your_api_key_here
```

**环境变量说明：**
- `ARK_API_KEY`：火山引擎Ark平台的API密钥
- 获取方式：登录火山引擎控制台 → Ark平台 → API密钥管理

### 6.3 豆包大模型API调用

#### 6.3.1 模型信息
- **模型ID**：doubao-seed-2-0-pro-260215
- **能力支持**：深度思考、文本生成、多模态理解、工具调用
- **上下文窗口**：256k tokens
- **最大输入**：256k tokens
- **最大输出**：128k tokens
- **限流**：30000 RPM, 5000000 TPM

#### 6.3.2 API调用方式
- **API端点**：https://ark.cn-beijing.volces.com/api/v3/chat/completions
- **认证方式**：Bearer Token（ARK_API_KEY）
- **请求方法**：POST
- **请求头**：
  - Content-Type: application/json
  - Authorization: Bearer $ARK_API_KEY
- **请求参数**：
  - model: doubao-seed-2-0-pro-260215
  - reasoning_effort: medium（深度思考模式）
  - messages: 包含system prompt和user message的数组
- **图片输入方式**：
  - 支持图片URL（image_url.url）
  - 支持Base64编码（data:image/jpeg;base64,...）
- **响应格式**：JSON

#### 6.3.3 Prompt设计

**System Prompt:**
```
你是一个追求异性的高手，对于青春男女生的心理和外在表现，有非常强的洞察，也有一套很厉害的追求异性的技巧！擅长于输出简短但有效的分析和建议。
```

**User Prompt:**
```
请分析用户上传的多张朋友圈截图，从以下维度进行深入分析：

1. 性格特征：分析对方的性格类型、行为模式、思维方式
2. 兴趣爱好：识别对方的兴趣领域、爱好程度、参与频率
3. 生活方式：了解对方的生活习惯、作息规律、消费特点
4. 价值观：推断对方的事业观、感情观、家庭观、人生追求
5. 情绪状态：评估对方近期的情绪状态、压力水平、心理状态

基于以上分析，提供以下交友建议：
- 聊天话题推荐（5-10个）
- 开场白建议（3-5个，不同风格）
- 约会建议（地点和活动）
- 注意事项（需要避免的话题和行为）
- 互动策略（分阶段的交往建议）

请以JSON格式输出分析结果，结构如下：
{
  "personality": {
    "tags": ["标签1", "标签2", ...],
    "description": "性格描述"
  },
  "interests": [
    {"name": "兴趣名称", "level": "程度", "description": "描述描述"}
  ],
  "lifestyle": {
    "habits": ["习惯1", "习惯2", ...],
    "description": "生活方式描述"
  },
  "values": {
    "career": "事业观",
    "relationship": "感情观",
    "family": "家庭观",
    "life": "人生观"
  },
  "emotion": {
    "state": "情绪状态",
    "description": "情绪描述"
  },
  "suggestions": {
    "topics": ["话题1", "话题2", ...],
    "openings": ["开场白1", "开场白2", ...],
    "dating": {
      "places": ["地点1", "地点2", ...],
      "activities": ["活动1", "活动2", ...]
    },
    "warnings": ["注意事项1", "注意事项2", ...],
    "strategy": ["阶段1建议", "阶段2建议", ...]
  }
}
```

#### 6.3.4 API调用示例

**单张图片分析示例：**
```bash
curl https://ark.cn-beijing.volces.com/api/v3/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $ARK_API_KEY" \
  -d '{
    "model": "doubao-seed-2-0-pro-260215",
    "reasoning_effort": "medium",
    "messages": [
      {
        "role": "system",
        "content": "你是一个追求异性的高手，对于青春男女生的心理和外在表现，有非常强的洞察，也有一套很厉害的追求异性的技巧！擅长于输出简短但有效的分析和建议。"
      },
      {
        "role": "user",
        "content": [
          {
            "type": "image_url",
            "image_url": {
              "url": "https://example.com/image1.jpg"
            }
          },
          {
            "type": "text",
            "text": "请分析这张朋友圈截图..."
          }
        ]
      }
    ]
  }'
```

**多张图片分析示例：**
```bash
curl https://ark.cn-beijing.volces.com/api/v3/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $ARK_API_KEY" \
  -d '{
    "model": "doubao-seed-2-0-pro-260215",
    "reasoning_effort": "medium",
    "messages": [
      {
        "role": "system",
        "content": "你是一个追求异性的高手，对于青春男女生的心理和外在表现，有非常强的洞察，也有一套很厉害的追求异性的技巧！擅长于输出简短但有效的分析和建议。"
      },
      {
        "role": "user",
        "content": [
          {
            "type": "image_url",
            "image_url": {
              "url": "https://example.com/image1.jpg"
            }
          },
          {
            "type": "image_url",
            "image_url": {
              "url": "https://example.com/image2.jpg"
            }
          },
          {
            "type": "image_url",
            "image_url": {
              "url": "https://example.com/image3.jpg"
            }
          },
          {
            "type": "text",
            "text": "请分析这些朋友圈截图..."
          }
        ]
      }
    ]
  }'
```

### 6.4 部署方案
- **前端**：Vercel / Netlify / 阿里云OSS
- **后端**：阿里云ECS / 腾讯云CVM
- **CDN**：加速静态资源加载

## 7. 用户体验流程

### 7.1 主要流程
1. 用户打开H5页面
2. 上传5张以上朋友圈截图
3. 点击"开始分析"按钮
4. 等待AI分析（显示加载动画）
5. 在同一页面查看分析报告和交友建议

### 7.2 异常流程
- 上传图片数量不足：提示"请至少上传5张图片"
- 图片格式不支持：提示"仅支持JPG、PNG、JPEG格式"
- 图片大小超限：提示"单张图片不能超过10MB"
- API调用失败：提示"分析失败，请稍后重试"
- 网络异常：提示"网络连接失败，请检查网络"

## 8. 风险与限制

### 8.1 技术风险
- **AI分析准确性**：朋友圈截图可能不完整，影响分析准确性
- **图片质量**：截图清晰度影响识别效果
- **API限流**：高并发时可能触发限流
- **成本控制**：频繁调用API可能产生较高费用

### 8.2 业务风险
- **隐私问题**：用户可能担心隐私泄露
- **伦理问题**：分析他人朋友圈可能涉及隐私侵犯
- **用户期望**：用户可能对分析结果期望过高

### 8.3 限制说明
- 仅支持分析朋友圈截图，不支持实时获取朋友圈
- 分析结果仅供参考，不能完全代表真实情况
- 建议用户在尊重对方隐私的前提下使用

## 9. 后续迭代规划

### 9.1 V1.0（MVP）
- 单页面应用
- 基础图片上传功能
- AI分析功能
- 分析报告展示
- 基础交友建议

### 9.2 V1.1
- 优化分析准确性
- 增加更多分析维度
- 报告分享功能

### 9.3 V2.0
- 支持视频分析
- 提供个性化推荐
- 历史记录功能

## 10. 成本估算

### 10.1 开发成本
- 前端开发：5-7人天
- 后端开发：3-5人天
- UI设计：2-3人天
- 测试：2-3人天
- **总计**：12-18人天

### 10.2 运营成本
- 豆包API调用费用：
  - 输入：3.2元/百万tokens
  - 输出：16元/百万tokens
  - 预估单次分析成本：0.1-0.3元
- 服务器费用：约100-300元/月
- 域名+SSL：约100元/年

## 11. 项目时间计划

| 阶段 | 任务 | 预计时间 |
|------|------|----------|
| 需求确认 | 需求评审、PRD确认 | 1天 |
| 设计 | UI设计、交互设计 | 2-3天 |
| 开发 | 前后端开发 | 5-7天 |
| 测试 | 功能测试、兼容性测试 | 2-3天 |
| 上线 | 部署上线 | 1天 |
| **总计** | | **11-15天** |

## 12. 验收标准

### 12.1 功能验收
- [ ] 支持上传5张以上图片
- [ ] AI分析功能正常
- [ ] 分析报告完整展示
- [ ] 交友建议合理有效

### 12.2 性能验收
- [ ] 页面加载时间 < 3秒
- [ ] 图片上传响应 < 2秒
- [ ] AI分析完成 < 30秒

### 12.3 兼容性验收
- [ ] 主流浏览器兼容
- [ ] 移动端适配良好
- [ ] 不同屏幕尺寸适配

---

**文档版本**：V1.0  
**创建日期**：2026-02-25  
**最后更新**：2026-02-25  
**文档状态**：待评审
